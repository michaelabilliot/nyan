<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nyan Cat Clicker Adventure</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <div id="game-container">
        <!-- Main Game Area -->
        <div id="main-area">
            <div id="stats-display">
                <h1 id="coin-count">0</h1>
                <p><span id="cps-count">0.0</span> Nyan Coins per second</p>
            </div>
            <div id="rainbow-container"></div>
            <div id="nyan-cat-container">
                <img src="assets/nyan-cat.png" id="nyan-cat-image" alt="Clickable Nyan Cat" draggable="false">
            </div>
        </div>

		<div id="slide-out-container">
			<div id="settings-tab" class="slide-tab">
				<img src="assets/cog.png" alt="Settings">
			</div>
			<div id="nyan-tree-tab" class="slide-tab">
				<img src="assets/tree.png" alt="Nyan Tree">
			</div>
			<!-- ADDED: Achievements Tab -->
			<div id="achievements-tab" class="slide-tab">
				<img src="assets/trophy.png" alt="Achievements">
			</div>
		</div>

        <!-- Right Side Panel -->
        <div id="right-panel">
            <div id="right-panel-header">
                <div id="controls-header">
                    <button id="shop-btn" class="btn">Shop</button>
                    <button id="rebirth-btn" class="btn">Rebirth</button>
                    <div id="multiplier-container">
                        <span>Buy:</span>
                        <button id="multiplier-btn">1x</button>
                    </div>
                </div>
                <div id="rebirth-info-container">
                    <div id="rebirth-info-main">Rebirths: <span id="rebirth-count">0</span> | Rebirth Points: <span id="rebirth-points-display">0</span></div>
                    <div id="rebirth-info-boosts">
                        <span>CPS Boost: <span id="cps-boost-display">0.00%</span></span>
                        <span>NPC Boost: <span id="npc-boost-display">0.00%</span></span>
                    </div>
                </div>
            </div>
            <div id="upgrades-list"></div>
        </div>
    </div>
    
    <!-- CORRECTED: Moved container outside to be a sibling to #game-container, allowing for proper z-index layering against the right panel. -->
    

    <!-- Fullscreen Nyan Tree Screen -->
    <div id="nyan-tree-screen" class="fullscreen-overlay">
        <div id="nyan-tree-header">
            <div id="nyan-tree-points">Rebirth Points: <span id="nyan-tree-points-display">0</span></div>
        </div>
        <div id="nyan-tree-canvas">
            <div id="nyan-tree-wrapper">
                <!-- Tree nodes will be generated here by JS -->
            </div>
        </div>
        <div id="nyan-tree-footer">
            <div id="nyan-tree-details-panel">
                <div id="details-content">Select a node to see details.</div>
                <button id="nyan-tree-buy-btn" class="btn" style="display: none;">Buy</button>
            </div>
            <button id="return-to-game-btn" class="btn">Return to Game</button>
        </div>
    </div>

	<div id="confirm-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="confirm-modal-title"></h2>
            <p id="confirm-modal-message"></p>
            <div class="modal-buttons">
                <button id="confirm-modal-yes" class="btn">Yes</button>
                <button id="confirm-modal-no" class="btn">No</button>
                <button id="confirm-modal-ok" class="btn" style="display: none;">OK</button>
            </div>
        </div>
    </div>
    <!-- Modals -->
    <div id="shop-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Skins & Boosts</h2>
            <div class="modal-grid" id="skins-grid"></div>
            <button class="btn close-modal-btn">Close</button>
        </div>
    </div>

    <!-- ADDED: Achievements Modal -->
    <div id="achievements-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Achievements</h2>
            <div class="modal-grid" id="achievements-grid"></div>
            <button class="btn close-modal-btn">Close</button>
        </div>
    </div>

    <div id="settings-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Settings</h2>
            <div class="settings-container">
                <div class="settings-section">
                    <div class="setting-item">
                        <label for="volume-slider">Volume</label>
                        <input type="range" id="volume-slider" min="0" max="100" value="50">
                    </div>
                    <div class="setting-item">
                        <label for="sfx-toggle">SFX</label>
                        <input type="checkbox" id="sfx-toggle" checked>
                    </div>
                    <div class="setting-item">
                        <label for="music-toggle">Music</label>
                        <input type="checkbox" id="music-toggle" checked>
                    </div>
                </div>
                <div class="settings-section">
                    <div class="setting-item">
                        <label for="dev-mode-toggle">Developer Mode</label>
                        <input type="checkbox" id="dev-mode-toggle">
                    </div>
                    <div id="dev-mode-cheats" style="display: none;">
                        <button id="add-coins-cheat" class="btn">Add 1M Coins</button>
                        <button id="add-rebirth-points-cheat" class="btn">Add 10 Rebirth Points</button>
                    </div>
                </div>
            </div>
            <div class="settings-footer">
                <button id="reset-game-btn" class="btn">Reset All Progress</button>
                <button class="btn close-modal-btn">Close</button>
            </div>
        </div>
    </div>

    <div id="achievement-toast">
        <div id="achievement-icon">üèÜ</div>
        <div id="achievement-text">
            <div id="achievement-title">Achievement Unlocked!</div>
            <div id="achievement-desc">You did something amazing!</div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>